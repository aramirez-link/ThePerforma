---
import BaseLayout from "../layouts/BaseLayout.astro";
import Section from "../components/Section.astro";
import PerformanceMode from "../components/PerformanceMode";
import WatchPlaylist from "../components/WatchPlaylist";
import LiveStreamHub from "../components/LiveStreamHub";
import watch from "../../content/watch.json";

const miniConcertSeries = [
  {
    title: "Mini Concert Series - Episode 1",
    embedUrl: "https://www.youtube.com/embed/70AeQqxEKd0"
  }
];

const cookingWithPerforma = [
  {
    title: "Cooking with the Performa - Episode 1",
    embedUrl: "https://www.youtube.com/embed/StpHxTDWwic"
  }
];

const youtubeChannelUrl = "https://www.youtube.com/@chipleetheperforma";
---
<BaseLayout title="Watch | The Performa" description="Featured performance reels and full sets.">
  <section class="mx-auto max-w-6xl px-4 pt-8 sm:px-6">
    <div class="relative overflow-hidden rounded-[2rem] border border-white/15">
      <img src="/assets/img/134NewChip_4K.jpg" alt="" aria-hidden="true" class="h-[40vh] w-full object-cover opacity-40" />
      <div class="absolute inset-0 bg-[linear-gradient(180deg,rgba(7,7,11,0.35),rgba(7,7,11,0.92))]"></div>
      <div class="absolute inset-0 flex items-end p-5 md:p-8">
        <div>
          <p class="text-xs uppercase tracking-[0.34em] text-gold/90">Performance Vault</p>
          <h1 class="mt-3 font-display text-4xl md:text-5xl">Chip Lee - Signature Reels</h1>
          <p class="mt-3 max-w-2xl text-sm text-white/75 md:text-base">Cinematic performance captures from Chip Lee - built for mainstage energy, late-night rooms, and precision playback.</p>
          <a href={youtubeChannelUrl} target="_blank" rel="noopener noreferrer" class="mt-5 inline-flex rounded-full border border-gold/40 bg-black/35 px-5 py-3 text-xs uppercase tracking-[0.3em] text-gold">
            Watch the Channel
          </a>
        </div>
      </div>
    </div>
  </section>
  <section class="mx-auto max-w-6xl px-4 pt-8 sm:px-6">
    <LiveStreamHub client:load />
  </section>
  <section class="mx-auto mt-8 max-w-6xl px-4 sm:px-6">
    <div class="rounded-[1.8rem] border border-white/15 bg-black/45 p-6 shadow-[0_0_60px_rgba(242,84,45,0.08)]">
      <div class="flex flex-wrap items-center justify-between gap-3">
        <div>
          <p class="text-[10px] uppercase tracking-[0.3em] text-gold/85">Tonight's Setlist</p>
          <h2 class="mt-2 font-display text-2xl">Setlist Teaser</h2>
          <p class="mt-2 text-sm text-white/70">Preview the first three tracks. Unlock the full setlist in Fan Vault.</p>
        </div>
        <a href="/fan-club" class="rounded-full border border-gold/40 px-4 py-2 text-[10px] uppercase tracking-[0.24em] text-gold">Unlock Full</a>
      </div>
      <ol class="mt-4 grid gap-2 text-sm text-white/80 md:grid-cols-3">
        <li class="rounded-xl border border-white/15 bg-black/40 px-3 py-2">1. Signal Intro (Live Edit)</li>
        <li class="rounded-xl border border-white/15 bg-black/40 px-3 py-2">2. Nah War With You (Mainstage Mix)</li>
        <li class="rounded-xl border border-white/15 bg-black/40 px-3 py-2">3. Throwback Concert 2001 (Rebuild)</li>
      </ol>
    </div>
  </section>
  <Section
    eyebrow="Watch"
    title="Mini Concert Series"
    subtitle="Exclusive short-form concert drops from The Performa."
  >
    <div class="grid gap-4 md:grid-cols-2">
      {miniConcertSeries.map((video) => (
        <article class="rounded-[1.4rem] border border-white/15 bg-black/45 p-3 shadow-[0_0_40px_rgba(242,84,45,0.06)]">
          <div class="aspect-video overflow-hidden rounded-xl border border-white/10 bg-black">
            <iframe
              src={video.embedUrl}
              title={video.title}
              class="h-full w-full"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
            ></iframe>
          </div>
          <p class="mt-3 text-sm text-white/85">{video.title}</p>
        </article>
      ))}
    </div>
  </Section>
  <Section
    eyebrow="Watch"
    title="Cooking with the Performa"
    subtitle="Behind-the-scenes kitchen sessions and lifestyle clips from The Performa."
  >
    <div class="grid gap-4 md:grid-cols-2">
      {cookingWithPerforma.map((video) => (
        <article class="rounded-[1.4rem] border border-white/15 bg-black/45 p-3 shadow-[0_0_40px_rgba(242,84,45,0.06)]">
          <div class="aspect-video overflow-hidden rounded-xl border border-white/10 bg-black">
            <iframe
              src={video.embedUrl}
              title={video.title}
              class="h-full w-full"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
            ></iframe>
          </div>
          <p class="mt-3 text-sm text-white/85">{video.title}</p>
        </article>
      ))}
    </div>
  </Section>
  <Section eyebrow="Watch" title="Featured Reels" subtitle="Curated moments from the mainstage - builds, drops, and room-shift transitions.">
    <PerformanceMode client:load>
      <WatchPlaylist items={watch} />
    </PerformanceMode>
  </Section>
</BaseLayout>
