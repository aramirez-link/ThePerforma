import{j as e}from"./jsx-runtime.TBa3i5EZ.js";import{r as i}from"./index.CVf8TyFT.js";import{B as S}from"./BookingConciergeModal.SnWEg_OO.js";const b={active:!1,immersive:!1,profile:"club",intensity:45,hue:18,theme:"ember"},E="the-performa-stage-mode";function y(s){const t={...b,...s??{}};return{...t,intensity:Math.min(100,Math.max(10,Number(t.intensity)||b.intensity)),hue:Math.min(360,Math.max(0,Number(t.hue)||b.hue))}}function P(){if(typeof window>"u")return b;if(window.__stageMode)return y(window.__stageMode.get());try{const s=localStorage.getItem(E);return s?y(JSON.parse(s)):b}catch{return b}}function w(s){typeof window>"u"||window.__stageMode?.set(s)}function O(s){return typeof window>"u"||!window.__stageMode?()=>{}:window.__stageMode.subscribe(s)}function T({mode:s,stageTransitioning:t}){const o=i.useMemo(()=>Math.max(.15,s.intensity/180),[s.intensity]);return e.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden","aria-hidden":"true",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(90%_70%_at_50%_0%,rgba(242,84,45,0.16),rgba(6,6,10,0.95))]"}),e.jsx("div",{className:`absolute -left-[18%] top-[10%] h-[44vh] w-[44vw] rounded-full bg-[#f2542d]/20 blur-3xl ${s.active?"animate-atmo-drift":"animate-atmo-idle"}`}),e.jsx("div",{className:`absolute right-[-16%] top-[24%] h-[40vh] w-[40vw] rounded-full bg-[#f3d38b]/18 blur-3xl ${s.active?"animate-atmo-drift-rev":"animate-atmo-idle-rev"}`}),e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(120deg,rgba(255,255,255,0.03)_0%,rgba(255,255,255,0)_60%)] mix-blend-screen"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(120%_70%_at_50%_110%,rgba(0,0,0,0.9),rgba(0,0,0,0))]"}),e.jsx("div",{className:"atmo-grain absolute inset-0 opacity-50"}),s.active&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"stage-wave absolute inset-x-[-10%] bottom-[-8rem] h-72",style:{opacity:o}}),e.jsx("div",{className:`stage-pulse absolute inset-0 ${s.profile==="festival"?"stage-pulse-festival":"stage-pulse-club"}`})]}),e.jsx("div",{className:`absolute inset-0 bg-black transition-opacity duration-700 ${t?"opacity-45":"opacity-0"}`})]})}function L({mode:s,visible:t,onModePatch:o,onEnterVault:g,onBooking:h}){const[m,u]=i.useState(!1),[l,p]=i.useState(!1);i.useEffect(()=>{const a=window.matchMedia("(max-width: 767px)"),x=()=>u(a.matches);return x(),a.addEventListener("change",x),()=>a.removeEventListener("change",x)},[]),i.useEffect(()=>{m||p(!1)},[m]);const r=[{label:"Ember Gold",hue:24,intensity:64},{label:"Steel Blue",hue:212,intensity:58},{label:"Summer Night",hue:332,intensity:72}];return e.jsxs("div",{className:`pointer-events-auto absolute left-1/2 top-5 z-40 w-[min(980px,96%)] -translate-x-1/2 transition duration-700 ${t?"opacity-100":"pointer-events-none opacity-0"}`,children:[m&&e.jsx("div",{className:"mb-2 flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>p(a=>!a),className:"inline-flex min-h-11 items-center rounded-full border border-white/25 bg-black/45 px-4 py-2 text-[10px] uppercase tracking-[0.26em] text-white/85","aria-expanded":l,"aria-controls":"mobile-control-deck-panel",children:l?"Hide Control Deck":"Open Control Deck"})}),(!m||l)&&e.jsxs("div",{id:"mobile-control-deck-panel",className:"rounded-2xl border border-white/20 bg-black/30 px-4 py-3 backdrop-blur-xl",children:[e.jsxs("div",{className:"grid gap-3 md:grid-cols-[1.2fr_1fr_1fr_auto] md:items-center",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-[0.36em] text-white/55",children:"The Performa Control Deck"}),e.jsxs("label",{className:"flex items-center gap-3 text-[10px] uppercase tracking-[0.2em] text-white/70",children:[e.jsx("span",{children:"Intensity"}),e.jsx("input",{type:"range",min:10,max:100,value:s.intensity,onChange:a=>o({intensity:Number(a.target.value)}),className:"w-full accent-[#f3d38b]","aria-label":"Visual intensity"})]}),e.jsxs("label",{className:"flex items-center gap-3 text-[10px] uppercase tracking-[0.2em] text-white/70",children:[e.jsx("span",{children:"Hue"}),e.jsx("input",{type:"range",min:0,max:360,value:s.hue,onChange:a=>o({hue:Number(a.target.value)}),className:"w-full accent-[#f3d38b]","aria-label":"Theme hue"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:justify-end",children:[e.jsx("button",{type:"button",onClick:g,className:"rounded-full border border-gold/40 px-4 py-2 text-[10px] uppercase tracking-[0.28em] text-gold",children:"Enter Vault"}),e.jsx("button",{type:"button",onClick:h,className:"rounded-full bg-ember px-4 py-2 text-[10px] uppercase tracking-[0.28em] text-ink",children:"Request Booking"})]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"text-[9px] uppercase tracking-[0.22em] text-white/55",children:"Presets"}),r.map(a=>e.jsx("button",{type:"button",onClick:()=>o({hue:a.hue,intensity:a.intensity}),className:"rounded-full border border-white/25 px-3 py-1 text-[9px] uppercase tracking-[0.2em] text-white/75 hover:border-gold/45 hover:text-gold",children:a.label},a.label))]})]})]})}const V="/assets/img/Keep-on-playin-red.png";function z({items:s,stageActive:t}){const o=i.useMemo(()=>{const r=s.filter(a=>a.featured);return r.length?r:s},[s]),[g,h]=i.useState(0),[m,u]=i.useState(!1),l=o[g],p=l.thumbnail.includes("200NewChip_4K.jpg")?"50% 25%":"50% 50%";return i.useEffect(()=>{if(!m)return;const r=x=>{x.key==="Escape"&&u(!1)},a=document.body.style.overflow;return document.body.style.overflow="hidden",window.addEventListener("keydown",r),()=>{document.body.style.overflow=a,window.removeEventListener("keydown",r)}},[m]),e.jsxs("div",{className:"space-y-5",id:"performance-vault",children:[e.jsxs("div",{className:"flex items-end justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.35em] text-gold/80",children:"Signature Reels"}),e.jsx("h3",{className:"mt-2 font-display text-3xl",children:"Live Moments From the Mainstage"})]}),e.jsxs("p",{className:"text-xs uppercase tracking-[0.24em] text-white/60",children:[o.length," entries"]})]}),e.jsx("button",{type:"button",onClick:()=>u(!0),className:`group relative w-full overflow-hidden rounded-[2rem] border border-white/20 bg-black/70 p-2 transition ${t?"shadow-[0_0_80px_rgba(242,84,45,0.25)]":""}`,children:e.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-[1.6rem] bg-black",children:[e.jsx("img",{src:l.thumbnail,alt:l.title,style:{objectPosition:p},className:"h-full w-full object-cover opacity-75 transition duration-500 group-hover:scale-[1.03] group-hover:opacity-95"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.03),rgba(0,0,0,0.72))]"}),e.jsx("div",{className:"absolute left-4 top-4 overflow-hidden rounded-full border border-gold/40 bg-black/35 p-1.5 md:left-6 md:top-6",children:e.jsx("img",{src:V,alt:"Reel Mode",loading:"lazy",onError:r=>{r.currentTarget.src="/assets/img/012ChipLee_CF2024_4K.jpg"},className:"record-spin h-20 w-20 rounded-full object-cover md:h-24 md:w-24"})}),e.jsxs("div",{className:"absolute bottom-6 left-6 text-left",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.28em] text-white/70",children:l.platform}),e.jsx("h4",{className:"mt-2 text-2xl font-semibold",children:l.title})]})]})}),e.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:o.map((r,a)=>e.jsxs("button",{type:"button",onClick:()=>h(a),className:`rounded-2xl border bg-black/40 p-3 text-left transition ${a===g?"border-gold/50":"border-white/15 hover:border-white/30"}`,children:[e.jsx("p",{className:"text-[10px] uppercase tracking-[0.24em] text-white/60",children:r.platform}),e.jsx("p",{className:"mt-2 text-sm",children:r.title})]},`${r.title}-${a}`))}),m&&e.jsxs("div",{className:"fixed inset-0 z-[70] overflow-y-auto bg-black/90 px-4 py-10",onClick:()=>u(!1),onMouseDown:()=>u(!1),role:"dialog","aria-modal":"true","aria-label":"Performance reel",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),onMouseDown:r=>r.stopPropagation(),className:"fixed right-4 top-[max(0.9rem,env(safe-area-inset-top))] z-[71] rounded-full border border-white/30 bg-black/70 px-4 py-2 text-xs uppercase tracking-[0.24em] text-white/80 md:right-6",children:"Close Reel"}),e.jsx("div",{className:"mx-auto mt-16 max-w-5xl md:mt-20",children:e.jsx("div",{className:"overflow-hidden rounded-[2rem] border border-white/20 bg-black",onClick:r=>r.stopPropagation(),onMouseDown:r=>r.stopPropagation(),children:e.jsx("div",{className:"aspect-video",children:e.jsx("iframe",{src:l.embedUrl,title:l.title,className:"h-full w-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})})]})]})}function B({vaultItems:s}){const[t,o]=i.useState(b),[g,h]=i.useState(!1),[m,u]=i.useState(!0),[l,p]=i.useState(!1),r=i.useRef(null);i.useEffect(()=>(o(P()),O(c=>o(c))),[]),i.useEffect(()=>{let n=window.scrollY,c=performance.now();const d=()=>{const f=performance.now(),j=Math.abs(window.scrollY-n),v=f-c||1,C=Math.min(1,j/v*2.2);document.body.style.setProperty("--scroll-velocity",C.toFixed(3)),n=window.scrollY,c=f};return window.addEventListener("scroll",d,{passive:!0}),()=>window.removeEventListener("scroll",d)},[]),i.useEffect(()=>{if(!t.active||!t.immersive)return;let n=null,c=null,d=null,f=null;return(async()=>{try{n=new AudioContext,c=n.createOscillator(),d=n.createGain(),c.type="sine",c.frequency.value=t.profile==="festival"?48:42,d.gain.value=1e-4,c.connect(d),d.connect(n.destination),c.start(),f=window.setInterval(()=>{if(!n||!d)return;const v=n.currentTime;d.gain.cancelScheduledValues(v),d.gain.setValueAtTime(1e-4,v),d.gain.exponentialRampToValueAtTime(.012,v+.05),d.gain.exponentialRampToValueAtTime(1e-4,v+.45)},t.profile==="festival"?900:1300)}catch{}})(),()=>{f&&window.clearInterval(f),c?.stop(),n?.close()}},[t.active,t.immersive,t.profile]);const a=i.useMemo(()=>t.active?t.profile==="festival"?"stage-mode-festival":"stage-mode-club":"lobby-mode",[t.active,t.profile]),x=i.useMemo(()=>t.active?t.profile==="festival"?"/assets/img/137NewChip_4K.jpg":"/assets/img/096NewChip_4K.jpg":"/assets/img/0030ChipFiesta_4K.jpg",[t.active,t.profile]),N=i.useMemo(()=>t.profile==="festival"?"/assets/img/134NewChip_4K.jpg":"/assets/img/084NewChip_4K.jpg",[t.profile]),k=()=>{h(!0),window.setTimeout(()=>{w({active:!0,immersive:!0}),h(!1)},780)},_=n=>{w(n),Object.prototype.hasOwnProperty.call(n,"intensity")||Object.prototype.hasOwnProperty.call(n,"hue")||u(!1)},M=()=>{u(!1),document.getElementById("performance-vault")?.scrollIntoView({behavior:"smooth",block:"start"})};return e.jsxs("section",{ref:r,className:`relative overflow-hidden rounded-[2.2rem] border border-white/15 bg-[#06060a]/90 p-6 md:p-10 ${a}`,children:[e.jsx("img",{src:x,alt:"","aria-hidden":"true",className:"pointer-events-none absolute inset-0 h-full w-full object-cover opacity-20 saturate-[0.75]"}),e.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(80%_80%_at_50%_0%,rgba(0,0,0,0.2),rgba(5,5,8,0.88))]"}),e.jsx(T,{mode:t,stageTransitioning:g}),e.jsx(L,{mode:t,visible:m,onModePatch:_,onEnterVault:M,onBooking:()=>{u(!1),p(!0)}}),e.jsxs("div",{className:"relative z-20 grid gap-8 pt-32 md:pt-32 md:grid-cols-[1.1fr_1fr] md:items-center",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.38em] text-haze",children:"Lobby Mode / Stage Mode"}),e.jsx("h1",{className:"font-display text-4xl leading-tight md:text-6xl",children:"Chip Lee. Unlimited Signal."}),e.jsx("p",{className:"max-w-xl text-sm text-white/72 md:text-base",children:"Chip Lee - known as The Performa - delivers cinematic DJ performance with the control of a luxury experience. Built for rooms that demand impact, not background."}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{type:"button",onClick:k,className:"rounded-full bg-ember px-6 py-3 text-xs uppercase tracking-[0.35em] text-ink shadow-[0_0_30px_rgba(242,84,45,0.4)]",children:"Enter Stage Mode"}),e.jsx("button",{type:"button",onClick:()=>w({active:!1,immersive:!1}),className:"rounded-full border border-white/30 px-6 py-3 text-xs uppercase tracking-[0.30em] text-white/70",children:"Explore the Experience"})]})]}),e.jsx("div",{className:"rounded-[1.6rem] border border-white/20 bg-black/55 p-4",children:e.jsx("div",{className:"aspect-video rounded-[1.2rem] border border-white/10 bg-black/80 p-4",children:e.jsxs("div",{className:"relative flex h-full flex-col justify-between overflow-hidden rounded-xl border border-white/10 p-4",children:[e.jsx("img",{src:N,alt:"","aria-hidden":"true",className:"absolute inset-0 h-full w-full object-cover opacity-30"}),e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(155deg,rgba(255,255,255,0.07),rgba(0,0,0,0.88))]"}),e.jsx("p",{className:"relative z-10 text-[10px] uppercase tracking-[0.30em] text-white/55",children:"Control Surface"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-sm uppercase tracking-[0.24em] text-gold",children:"Chip Lee - Live Signal Active"}),e.jsx("p",{className:"mt-3 text-xs text-white/60",children:"Mode: Festival Mainstage / Output: 86%"})]})]})})})]}),e.jsx("div",{className:"relative z-20 mt-10",children:e.jsx(z,{items:s,stageActive:t.active})}),e.jsx(S,{open:l,onClose:()=>p(!1)})]})}export{B as default};
