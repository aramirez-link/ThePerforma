import{j as r}from"./jsx-runtime.TBa3i5EZ.js";import{r as i}from"./index.CVf8TyFT.js";const d=t=>{if(t.embedUrl)return t.embedUrl;if(!t.url)return null;const s=t.url.match(/instagram\.com\/(p|reel|tv)\/([^/?#]+)/i);return s?`https://www.instagram.com/${s[1].toLowerCase()}/${s[2]}/embed/captioned/`:null};function u({items:t}){const s=i.useRef(null),a=i.useMemo(()=>t.map((e,l)=>({key:`${e.url||e.embedUrl||"instagram"}-${l}`,title:e.title||"Instagram Post",sourceUrl:e.url||null,embedUrl:d(e)})),[t]),c=a.length>0,n=e=>{const l=s.current;if(!l)return;const o=l.clientWidth*.86;l.scrollBy({left:e==="next"?o:-o,behavior:"smooth"})};return c?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:()=>n("prev"),className:"rounded-full border border-white/25 px-3 py-1 text-xs uppercase tracking-[0.24em] text-white/75 transition hover:border-gold/60 hover:text-gold","aria-label":"Previous Instagram post",children:"Prev"}),r.jsx("button",{type:"button",onClick:()=>n("next"),className:"rounded-full border border-white/25 px-3 py-1 text-xs uppercase tracking-[0.24em] text-white/75 transition hover:border-gold/60 hover:text-gold","aria-label":"Next Instagram post",children:"Next"})]}),r.jsx("div",{ref:s,className:"flex snap-x snap-mandatory gap-4 overflow-x-auto pb-2 [scrollbar-width:thin]",children:a.map(e=>r.jsx("article",{className:"min-w-[min(88vw,420px)] snap-start overflow-hidden rounded-3xl border border-white/15 bg-black/45 shadow-[0_0_60px_rgba(242,84,45,0.08)]",children:e.embedUrl?r.jsx("iframe",{src:e.embedUrl,title:e.title,className:"h-[560px] w-full bg-black",loading:"lazy",allow:"clipboard-write; encrypted-media; picture-in-picture; web-share"}):r.jsx("div",{className:"flex h-[560px] items-center justify-center px-6 text-center text-sm text-white/70",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-base text-white/85",children:e.title}),r.jsx("p",{className:"mt-2",children:"This entry is not a direct Instagram post/reel URL."}),e.sourceUrl&&r.jsx("a",{href:e.sourceUrl,target:"_blank",rel:"noreferrer noopener",className:"mt-4 inline-flex rounded-full border border-gold/40 px-4 py-2 text-xs uppercase tracking-[0.24em] text-gold",children:"Open on Instagram"})]})})},e.key))})]}):r.jsxs("div",{className:"rounded-3xl border border-white/15 bg-black/45 p-6 text-sm text-white/70",children:["Instagram carousel is ready. Add public Instagram post/reel links to ",r.jsx("code",{children:"content/instagram.json"}),"."]})}export{u as default};
