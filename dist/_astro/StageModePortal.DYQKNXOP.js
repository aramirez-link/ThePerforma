import{j as e}from"./jsx-runtime.TBa3i5EZ.js";import{r as l}from"./index.CVf8TyFT.js";import{B as M}from"./BookingConciergeModal.SnWEg_OO.js";const v={active:!1,immersive:!1,profile:"club",intensity:45,hue:18,theme:"ember"};function S(){return typeof window>"u"||!window.__stageMode?v:window.__stageMode.get()}function h(s){typeof window>"u"||window.__stageMode?.set(s)}function E(s){return typeof window>"u"||!window.__stageMode?()=>{}:window.__stageMode.subscribe(s)}function P({mode:s,stageTransitioning:t}){const n=l.useMemo(()=>Math.max(.15,s.intensity/180),[s.intensity]);return e.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden","aria-hidden":"true",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(90%_70%_at_50%_0%,rgba(242,84,45,0.16),rgba(6,6,10,0.95))]"}),e.jsx("div",{className:`absolute -left-[18%] top-[10%] h-[44vh] w-[44vw] rounded-full bg-[#f2542d]/20 blur-3xl ${s.active?"animate-atmo-drift":"animate-atmo-idle"}`}),e.jsx("div",{className:`absolute right-[-16%] top-[24%] h-[40vh] w-[40vw] rounded-full bg-[#f3d38b]/18 blur-3xl ${s.active?"animate-atmo-drift-rev":"animate-atmo-idle-rev"}`}),e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(120deg,rgba(255,255,255,0.03)_0%,rgba(255,255,255,0)_60%)] mix-blend-screen"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(120%_70%_at_50%_110%,rgba(0,0,0,0.9),rgba(0,0,0,0))]"}),e.jsx("div",{className:"atmo-grain absolute inset-0 opacity-50"}),s.active&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"stage-wave absolute inset-x-[-10%] bottom-[-8rem] h-72",style:{opacity:n}}),e.jsx("div",{className:`stage-pulse absolute inset-0 ${s.profile==="festival"?"stage-pulse-festival":"stage-pulse-club"}`})]}),e.jsx("div",{className:`absolute inset-0 bg-black transition-opacity duration-700 ${t?"opacity-45":"opacity-0"}`})]})}function T({mode:s,visible:t,onModePatch:n,onEnterVault:m,onBooking:x}){const p=[{label:"Ember Gold",hue:24,intensity:64},{label:"Steel Blue",hue:212,intensity:58},{label:"Summer Night",hue:332,intensity:72}];return e.jsxs("div",{className:`pointer-events-auto absolute left-1/2 top-5 z-40 w-[min(980px,96%)] -translate-x-1/2 rounded-2xl border border-white/20 bg-black/30 px-4 py-3 backdrop-blur-xl transition duration-700 ${t?"translate-y-0 opacity-100":"-translate-y-16 opacity-0"}`,children:[e.jsxs("div",{className:"grid gap-3 md:grid-cols-[1.2fr_1fr_1fr_auto] md:items-center",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-[0.36em] text-white/55",children:"The Performa Control Deck"}),e.jsxs("label",{className:"flex items-center gap-3 text-[10px] uppercase tracking-[0.2em] text-white/70",children:[e.jsx("span",{children:"Intensity"}),e.jsx("input",{type:"range",min:10,max:100,value:s.intensity,onChange:r=>n({intensity:Number(r.target.value)}),className:"w-full accent-[#f3d38b]","aria-label":"Visual intensity"})]}),e.jsxs("label",{className:"flex items-center gap-3 text-[10px] uppercase tracking-[0.2em] text-white/70",children:[e.jsx("span",{children:"Hue"}),e.jsx("input",{type:"range",min:0,max:360,value:s.hue,onChange:r=>n({hue:Number(r.target.value)}),className:"w-full accent-[#f3d38b]","aria-label":"Theme hue"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:justify-end",children:[e.jsx("button",{type:"button",onClick:m,className:"rounded-full border border-gold/40 px-4 py-2 text-[10px] uppercase tracking-[0.28em] text-gold",children:"Enter Vault"}),e.jsx("button",{type:"button",onClick:x,className:"rounded-full bg-ember px-4 py-2 text-[10px] uppercase tracking-[0.28em] text-ink",children:"Request Booking"})]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"text-[9px] uppercase tracking-[0.22em] text-white/55",children:"Presets"}),p.map(r=>e.jsx("button",{type:"button",onClick:()=>n({hue:r.hue,intensity:r.intensity}),className:"rounded-full border border-white/25 px-3 py-1 text-[9px] uppercase tracking-[0.2em] text-white/75 hover:border-gold/45 hover:text-gold",children:r.label},r.label))]})]})}const L="/assets/img/Keep-on-playin-red.png";function O({items:s,stageActive:t}){const n=l.useMemo(()=>{const a=s.filter(d=>d.featured);return a.length?a:s},[s]),[m,x]=l.useState(0),[p,r]=l.useState(!1),u=n[m];return l.useEffect(()=>{if(!p)return;const a=f=>{f.key==="Escape"&&r(!1)},d=document.body.style.overflow;return document.body.style.overflow="hidden",window.addEventListener("keydown",a),()=>{document.body.style.overflow=d,window.removeEventListener("keydown",a)}},[p]),e.jsxs("div",{className:"space-y-5",id:"performance-vault",children:[e.jsxs("div",{className:"flex items-end justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.35em] text-gold/80",children:"Signature Reels"}),e.jsx("h3",{className:"mt-2 font-display text-3xl",children:"Live Moments From the Mainstage"})]}),e.jsxs("p",{className:"text-xs uppercase tracking-[0.24em] text-white/60",children:[n.length," entries"]})]}),e.jsx("button",{type:"button",onClick:()=>r(!0),className:`group relative w-full overflow-hidden rounded-[2rem] border border-white/20 bg-black/70 p-2 transition ${t?"shadow-[0_0_80px_rgba(242,84,45,0.25)]":""}`,children:e.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-[1.6rem] bg-black",children:[e.jsx("img",{src:u.thumbnail,alt:u.title,className:"h-full w-full object-cover opacity-75 transition duration-500 group-hover:scale-[1.03] group-hover:opacity-95"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.03),rgba(0,0,0,0.72))]"}),e.jsx("div",{className:"absolute left-4 top-4 overflow-hidden rounded-full border border-gold/40 bg-black/35 p-1.5 md:left-6 md:top-6",children:e.jsx("img",{src:L,alt:"Reel Mode",loading:"lazy",onError:a=>{a.currentTarget.src="/assets/img/012ChipLee_CF2024_4K.jpg"},className:"record-spin h-20 w-20 rounded-full object-cover md:h-24 md:w-24"})}),e.jsxs("div",{className:"absolute bottom-6 left-6 text-left",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.28em] text-white/70",children:u.platform}),e.jsx("h4",{className:"mt-2 text-2xl font-semibold",children:u.title})]})]})}),e.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:n.map((a,d)=>e.jsxs("button",{type:"button",onClick:()=>x(d),className:`rounded-2xl border bg-black/40 p-3 text-left transition ${d===m?"border-gold/50":"border-white/15 hover:border-white/30"}`,children:[e.jsx("p",{className:"text-[10px] uppercase tracking-[0.24em] text-white/60",children:a.platform}),e.jsx("p",{className:"mt-2 text-sm",children:a.title})]},`${a.title}-${d}`))}),p&&e.jsxs("div",{className:"fixed inset-0 z-[70] overflow-y-auto bg-black/90 px-4 py-10",onClick:()=>r(!1),onMouseDown:()=>r(!1),role:"dialog","aria-modal":"true","aria-label":"Performance reel",children:[e.jsx("button",{type:"button",onClick:()=>r(!1),onMouseDown:a=>a.stopPropagation(),className:"fixed right-4 top-[max(0.9rem,env(safe-area-inset-top))] z-[71] rounded-full border border-white/30 bg-black/70 px-4 py-2 text-xs uppercase tracking-[0.24em] text-white/80 md:right-6",children:"Close Reel"}),e.jsx("div",{className:"mx-auto mt-16 max-w-5xl md:mt-20",children:e.jsx("div",{className:"overflow-hidden rounded-[2rem] border border-white/20 bg-black",onClick:a=>a.stopPropagation(),onMouseDown:a=>a.stopPropagation(),children:e.jsx("div",{className:"aspect-video",children:e.jsx("iframe",{src:u.embedUrl,title:u.title,className:"h-full w-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})})]})]})}function B({vaultItems:s}){const[t,n]=l.useState(v),[m,x]=l.useState(!1),[p,r]=l.useState(!0),[u,a]=l.useState(!1),d=l.useRef(null);l.useEffect(()=>(n(S()),E(o=>n(o))),[]),l.useEffect(()=>{let i=window.scrollY,o=performance.now();const c=()=>{const g=performance.now(),w=Math.abs(window.scrollY-i),b=g-o||1,C=Math.min(1,w/b*2.2);document.body.style.setProperty("--scroll-velocity",C.toFixed(3)),i=window.scrollY,o=g};return window.addEventListener("scroll",c,{passive:!0}),()=>window.removeEventListener("scroll",c)},[]),l.useEffect(()=>{if(!t.active||!t.immersive)return;let i=null,o=null,c=null,g=null;return(async()=>{try{i=new AudioContext,o=i.createOscillator(),c=i.createGain(),o.type="sine",o.frequency.value=t.profile==="festival"?48:42,c.gain.value=1e-4,o.connect(c),c.connect(i.destination),o.start(),g=window.setInterval(()=>{if(!i||!c)return;const b=i.currentTime;c.gain.cancelScheduledValues(b),c.gain.setValueAtTime(1e-4,b),c.gain.exponentialRampToValueAtTime(.012,b+.05),c.gain.exponentialRampToValueAtTime(1e-4,b+.45)},t.profile==="festival"?900:1300)}catch{}})(),()=>{g&&window.clearInterval(g),o?.stop(),i?.close()}},[t.active,t.immersive,t.profile]);const f=l.useMemo(()=>t.active?t.profile==="festival"?"stage-mode-festival":"stage-mode-club":"lobby-mode",[t.active,t.profile]),j=l.useMemo(()=>t.active?t.profile==="festival"?"/assets/img/137NewChip_4K.jpg":"/assets/img/096NewChip_4K.jpg":"/assets/img/0030ChipFiesta_4K.jpg",[t.active,t.profile]),y=l.useMemo(()=>t.profile==="festival"?"/assets/img/134NewChip_4K.jpg":"/assets/img/084NewChip_4K.jpg",[t.profile]),N=()=>{x(!0),window.setTimeout(()=>{h({active:!0,immersive:!0}),x(!1)},780)},k=i=>{h(i),Object.prototype.hasOwnProperty.call(i,"intensity")||Object.prototype.hasOwnProperty.call(i,"hue")||r(!1)},_=()=>{r(!1),document.getElementById("performance-vault")?.scrollIntoView({behavior:"smooth",block:"start"})};return e.jsxs("section",{ref:d,className:`relative overflow-hidden rounded-[2.2rem] border border-white/15 bg-[#06060a]/90 p-6 md:p-10 ${f}`,children:[e.jsx("img",{src:j,alt:"","aria-hidden":"true",className:"pointer-events-none absolute inset-0 h-full w-full object-cover opacity-20 saturate-[0.75]"}),e.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(80%_80%_at_50%_0%,rgba(0,0,0,0.2),rgba(5,5,8,0.88))]"}),e.jsx(P,{mode:t,stageTransitioning:m}),e.jsx(T,{mode:t,visible:p,onModePatch:k,onEnterVault:_,onBooking:()=>{r(!1),a(!0)}}),e.jsxs("div",{className:"relative z-20 grid gap-8 pt-22 md:pt-24 md:grid-cols-[1.1fr_1fr] md:items-center",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.38em] text-haze",children:"Lobby Mode / Stage Mode"}),e.jsx("h1",{className:"font-display text-4xl leading-tight md:text-6xl",children:"Chip Lee. Unlimited Signal."}),e.jsx("p",{className:"max-w-xl text-sm text-white/72 md:text-base",children:"Chip Lee - known as The Performa - delivers cinematic DJ performance with the control of a luxury experience. Built for rooms that demand impact, not background."}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{type:"button",onClick:N,className:"rounded-full bg-ember px-6 py-3 text-xs uppercase tracking-[0.35em] text-ink shadow-[0_0_30px_rgba(242,84,45,0.4)]",children:"Enter Stage Mode"}),e.jsx("button",{type:"button",onClick:()=>h({active:!1,immersive:!1}),className:"rounded-full border border-white/30 px-6 py-3 text-xs uppercase tracking-[0.30em] text-white/70",children:"Explore the Experience"})]})]}),e.jsx("div",{className:"rounded-[1.6rem] border border-white/20 bg-black/55 p-4",children:e.jsx("div",{className:"aspect-video rounded-[1.2rem] border border-white/10 bg-black/80 p-4",children:e.jsxs("div",{className:"relative flex h-full flex-col justify-between overflow-hidden rounded-xl border border-white/10 p-4",children:[e.jsx("img",{src:y,alt:"","aria-hidden":"true",className:"absolute inset-0 h-full w-full object-cover opacity-30"}),e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(155deg,rgba(255,255,255,0.07),rgba(0,0,0,0.88))]"}),e.jsx("p",{className:"relative z-10 text-[10px] uppercase tracking-[0.30em] text-white/55",children:"Control Surface"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-sm uppercase tracking-[0.24em] text-gold",children:"Chip Lee - Live Signal Active"}),e.jsx("p",{className:"mt-3 text-xs text-white/60",children:"Mode: Festival Mainstage / Output: 86%"})]})]})})})]}),e.jsx("div",{className:"relative z-20 mt-10",children:e.jsx(O,{items:s,stageActive:t.active})}),e.jsx(M,{open:u,onClose:()=>a(!1)})]})}export{B as default};
